<div class="collection-long-desc page-width" id="category-desc">
  {% if collection.metafields.global.full_description %}
    {{ collection.metafields.global.full_description }}
  {% endif %}

  {% if collection.metafields.global.seo_intro %}
    <div class="placeholder-intro">{{ collection.metafields.global.seo_intro }}</div>
  {% endif %}

  {% if collection.metafields.global.seo_main %}
    <div class="placeholder-main rte container">
      <input
        class="sd-input"
        id="sd-ch-2"
        type="checkbox">
      <label class="sd-label" for="sd-ch-2"></label>
      <div class="sd-text placeholder-sd-text">
        {{ collection.metafields.global.seo_main }}
      </div>
    </div>
  {% endif %}

  {% if collection.metafields.global.full_description %}
    <div class="read_more">Read More</div>
  {% endif %}
</div>

{% comment %} 
  Sale-banners filter (only on the on-sale collection)
  This block adds three clickable filters that hide/show the products
  based on the "Save Up To X%" badge already output in each product card. 
{% endcomment %}

{% if collection.handle == 'on-sale' %}
  {{ 'sale-filter.css' | asset_url | stylesheet_tag }}

  <div class="sale-filters page-width" id="sale-filters">
    <div class="sale-filters__inner">
      <button
        class="sale-filter-btn"
        data-min="1"
        data-max="25"
        aria-pressed="false"
        type="button">
        Up to 25% off
      </button>

      <button
        class="sale-filter-btn"
        data-min="26"
        data-max="35"
        aria-pressed="false"
        type="button">
        26%–35% off
      </button>

      <button
        class="sale-filter-btn"
        data-min="36"
        data-max="50"
        aria-pressed="false"
        type="button">
        36%–50% off
      </button>

      <button
        class="sale-filter-clear"
        aria-pressed="false"
        type="button">
        Show all
      </button>
    </div>
  </div>

  <script src="{{ 'sale-filter.js' | asset_url }}" defer></script>
{% endif %}


<!-- CLS Issue Fix - Collection Long Description -->
<script>
  $(function() {
    setTimeout(function(){
    	$(".collection-long-desc").addClass('collapse');
    },20000);
  
    $(".collection-long-desc .read_more").on('click', function(){
      if($(this).parent('.collection-long-desc.collapse').length){
      	$(this).text('Read Less');
        	$(this).parent('.collection-long-desc').removeClass('collapse');
      	$(this).parent('.collection-long-desc > *').slideDown(400);
      } else{
      	$(this).parent('.collection-long-desc').addClass('collapse');
      	$(this).parent('.collection-long-desc > *').slideUp(400);
        	$(this).text('Read More');
      }
    });
  });
</script>